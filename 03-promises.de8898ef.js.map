{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAgCA,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC7BC,YAAW,KACLN,EACFI,EAAQ,C,SAAEN,E,MAAUC,IAEpBM,EAAO,C,SAAEP,E,MAAUC,GAAQ,GAE5BA,EAAM,G,CAvCEQ,SAASC,cAAc,SAE/BC,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAMC,iBAEN,MACEC,UAAYb,MAAAc,EAAKC,KAAEA,EAAIC,OAAEA,IACvBL,EAAMM,cAEJC,EAAW,CACflB,MAAOmB,OAAOL,EAAMM,OACpBL,KAAMI,OAAOJ,EAAKK,OAClBJ,OAAQG,OAAOH,EAAOI,QAGxB,IAAK,IAAIC,EAAI,EAAGA,GAAKH,EAASF,OAAQK,GAAK,EACzCvB,EAAcuB,EAAGH,EAASlB,OACzBsB,MAAK,EAACvB,SAAEA,EAAQC,MAAEA,MACjBJ,EAAA2B,OAAOC,QAAQ,uBAAqBzB,QAAiBC,MAAU,IAEhEyB,OAAM,EAAC1B,SAAEA,EAAQC,MAAEA,MAClBJ,EAAA2B,OAAOG,QAAQ,sBAAoB3B,QAAeC,MAAU,IAG9DkB,EAASlB,OAASkB,EAASH,I","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  // console.log(event.currentTarget.elements);\n  const { \n    elements: { delay, step, amount }\n  } = event.currentTarget;\n\n  const dataForm = {\n    delay: Number(delay.value),\n    step: Number(step.value),\n    amount: Number(amount.value)\n  };\n\n  for (let i = 1; i <= dataForm.amount; i += 1) {\n    createPromise(i, dataForm.delay)\n    .then(({ position, delay }) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n\n    dataForm.delay += dataForm.step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n  setTimeout(() => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  }, delay);\n});\n}\n\n/*\nWrite a script that, when submitting the form, \ncalls the createPromise(position, delay) function as many times as you entered \nin the amount field. On each call, pass it the number of the promise\nto be created (position) and the delay given the first delay (delay) \nand step (step) entered by the user.\n\nSupplement the code of the createPromise function so that it returns one promise\nthat will be fulfilled or rejected after delay time. \nThe value of the promise must be an object containing the position and \ndelay properties with the values of these parameters. \nUse the initial function code to choose whether to fulfill or reject the promise.\n*/\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","document","querySelector","addEventListener","event","preventDefault","elements","delay1","step","amount","currentTarget","dataForm","Number","value","i","then","Notify","success","catch","failure"],"version":3,"file":"03-promises.de8898ef.js.map"}